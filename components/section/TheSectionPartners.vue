<template>
    <section class="c-section-partners">
        <div class="container">
            <svg class="c-section-partners__handshake a-stagger-element__partner" width="106" height="73" viewBox="0 0 106 73" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M105.315 44.5827L97.615 14.3848C97.535 14.0629 97.325 13.7813 97.045 13.6103C96.755 13.4393 96.415 13.389 96.095 13.4795L81.745 17.1813C81.435 17.2618 81.175 17.463 81.015 17.7144C79.085 18.6097 76.475 18.4991 73.225 17.3724C72.675 17.1813 72.125 16.9801 71.575 16.7689C69.075 15.8434 66.485 14.8777 63.635 15.0286C60.995 15.1695 58.305 16.2257 55.165 18.3683C53.995 19.163 52.905 20.0281 51.875 20.9233C51.015 20.2494 50.135 19.505 49.205 18.7103C46.495 16.4067 43.685 14.0227 41.125 13.2481C36.545 11.8801 31.945 13.7612 29.615 15.0085C28.615 15.5416 27.665 16.1251 26.735 16.6884C24.815 17.8553 23.005 18.9618 20.865 19.6358L7.10502 17.3724C6.42502 17.2517 5.78502 17.7245 5.67502 18.4085L0.66502 49.1798C0.61502 49.5117 0.69502 49.8437 0.88502 50.1153C1.07502 50.3869 1.37502 50.568 1.69502 50.6183L15.815 52.9419C15.795 53.0828 15.755 53.2135 15.755 53.3544C15.615 56.0704 17.835 58.6154 20.615 58.9171C20.805 58.9373 21.005 58.9473 21.195 58.9473C21.875 58.9473 22.545 58.8065 23.175 58.5751C23.165 58.6958 23.145 58.8065 23.135 58.9272C22.995 61.6432 25.215 64.1882 27.995 64.49C28.185 64.5101 28.375 64.5201 28.565 64.5201C28.205 65.1941 27.935 65.9888 27.885 66.8841C27.745 69.6001 29.965 72.1451 32.745 72.4468C32.935 72.467 33.135 72.477 33.325 72.477C34.455 72.477 35.565 72.1149 36.535 71.4912C37.875 72.4167 39.655 73.0001 41.415 73.0001C43.005 73.0001 44.565 72.5273 45.725 71.4309C46.025 71.1492 46.255 70.8072 46.455 70.435C47.135 71.109 47.865 71.7025 48.755 72.1149C49.215 72.3261 49.765 72.4167 50.335 72.4167C52.085 72.4167 54.145 71.5717 55.045 70.7167C55.685 70.103 56.095 69.2782 56.255 68.3527C56.705 68.7149 57.175 69.0368 57.715 69.2882C58.175 69.4995 58.725 69.59 59.295 69.59C61.045 69.59 63.105 68.745 64.005 67.89C64.755 67.1758 65.185 66.1699 65.275 65.0633C65.445 65.1539 65.595 65.2645 65.775 65.345C66.235 65.5563 66.775 65.6468 67.355 65.6468C69.105 65.6468 71.165 64.8018 72.065 63.9468C73.215 62.8503 73.645 61.0598 73.175 59.2592C73.175 59.2189 73.145 59.1887 73.135 59.1485C75.735 58.0822 78.005 56.3118 79.685 54.0384C79.885 54.0082 80.075 53.9479 80.255 53.8272C83.015 51.8153 86.255 50.4774 89.625 49.9543C89.765 49.9342 89.895 49.8739 90.015 49.8035C90.025 49.8035 90.045 49.8035 90.055 49.8035L104.405 46.1017C104.725 46.0212 105.005 45.8099 105.175 45.5283C105.345 45.2366 105.395 44.8945 105.305 44.5726L105.315 44.5827ZM101.905 41.3436C101.975 41.3637 102.045 41.3939 102.105 41.4241C102.135 41.4442 102.165 41.4643 102.195 41.4945C102.235 41.5247 102.275 41.5649 102.305 41.6052C102.325 41.6253 102.345 41.6555 102.355 41.6756C102.395 41.746 102.435 41.8265 102.455 41.917C102.475 42.0377 102.455 42.1685 102.425 42.2791C102.425 42.2892 102.415 42.2993 102.405 42.3194C102.365 42.42 102.305 42.5206 102.225 42.601C102.125 42.7016 102.005 42.7821 101.855 42.8022C98.415 43.4661 94.955 44.2608 91.585 45.1661C91.525 45.1863 91.455 45.1963 91.395 45.1963C91.065 45.1963 90.765 44.975 90.675 44.633C90.565 44.2306 90.805 43.8182 91.205 43.7076C94.615 42.7922 98.105 41.9874 101.575 41.3134C101.685 41.2933 101.795 41.3034 101.905 41.3235V41.3436ZM92.345 26.1139C91.905 26.4962 91.285 26.6169 90.705 26.5867C89.945 26.5364 89.175 26.2045 88.715 25.5808C88.255 24.9672 88.185 24.0417 88.655 23.4281C89.075 22.8748 89.785 22.6737 90.455 22.5228L90.435 22.4926C90.935 22.221 91.565 22.4524 92.005 22.8145C92.495 23.2169 92.855 23.7802 92.945 24.4038C93.035 25.0275 92.825 25.7015 92.345 26.1139ZM100.135 38.004C100.535 37.9235 100.935 38.1951 101.015 38.5975C101.095 39.0099 100.825 39.4022 100.425 39.4827C96.985 40.1466 93.525 40.9413 90.155 41.8466C90.095 41.8667 90.025 41.8768 89.965 41.8768C89.635 41.8768 89.335 41.6555 89.245 41.3134C89.135 40.9111 89.375 40.4986 89.775 40.388C93.185 39.4726 96.675 38.6679 100.145 37.9939L100.135 38.004ZM18.095 39.3016L5.10502 37.4004L5.38502 35.6601L18.365 37.7223C18.275 38.2554 18.185 38.7785 18.085 39.3117L18.095 39.3016ZM5.63502 34.1613L5.95502 32.1595L18.915 34.3122C18.825 34.9459 18.735 35.5797 18.625 36.2134L5.62502 34.1513L5.63502 34.1613ZM6.20502 30.6708L6.45502 29.1015C7.85502 29.2323 9.24502 29.4636 10.605 29.8157C10.785 30.0773 10.995 30.3287 11.255 30.5199C11.765 30.882 12.405 31.0731 13.115 31.0731C13.325 31.0731 13.545 31.053 13.765 31.0228C14.105 30.9725 14.425 30.8719 14.725 30.7512L19.325 31.4856C19.265 31.9282 19.215 32.3808 19.155 32.8234L6.21502 30.6708H6.20502ZM6.98502 25.8624C8.15502 26.0133 9.30502 26.2648 10.445 26.5867C10.225 27.0193 10.095 27.482 10.075 27.9447C10.075 28.0151 10.085 28.0755 10.085 28.1459C8.96502 27.8944 7.83502 27.7133 6.70502 27.6027L6.98502 25.8624ZM19.685 28.3773C19.625 28.9104 19.565 29.4536 19.505 29.9867L16.345 29.4838C16.385 29.4234 16.445 29.3731 16.485 29.3027C16.755 28.8702 16.885 28.3773 16.915 27.8843L19.685 28.3773ZM15.205 28.5181C14.885 29.0412 14.265 29.4234 13.525 29.5341C12.965 29.6246 12.455 29.5341 12.125 29.2926C11.755 29.0311 11.545 28.5281 11.565 28.0252C11.595 27.5222 11.845 26.9991 12.265 26.5867C12.495 26.3654 12.815 26.1743 13.065 26.1743C13.065 26.1743 13.075 26.1743 13.085 26.1743C13.175 26.2346 13.285 26.2749 13.405 26.295C14.075 26.3855 14.765 26.5163 15.135 26.9187C15.485 27.3009 15.505 28.0051 15.195 28.5181H15.205ZM19.825 26.8784L16.535 26.295C16.455 26.1542 16.355 26.0234 16.255 25.9027C15.615 25.1985 14.715 24.9672 13.875 24.8364C13.865 24.8364 13.845 24.8263 13.835 24.8163C12.985 24.4441 12.085 24.7861 11.465 25.2891C10.085 24.8565 8.66502 24.5648 7.22502 24.3737L7.49502 22.734L19.995 24.9873C19.945 25.611 19.885 26.2447 19.825 26.8684V26.8784ZM4.30502 42.3496C8.48502 43.3152 12.735 44.0999 16.985 44.7135C16.855 45.307 16.725 45.9005 16.575 46.494L3.91502 44.7537L4.30502 42.3496ZM17.315 43.2348C13.045 42.6312 8.75502 41.8365 4.54502 40.8608L4.86502 38.8791L17.805 40.7803C17.645 41.5951 17.485 42.42 17.315 43.2348ZM20.205 22.0802C20.175 22.5429 20.135 23.0157 20.105 23.4784L7.73502 21.2452L7.92502 20.0583L20.205 22.0802ZM3.33502 48.3449L3.67502 46.2425L16.215 47.9727C16.015 48.7674 15.825 49.5721 15.605 50.3668L3.33502 48.3449ZM20.875 56.4124C19.425 56.2514 18.175 54.8633 18.245 53.4851C18.285 52.7206 18.675 51.8958 19.355 51.1514C20.065 50.3768 20.885 49.5922 21.635 49.5922H21.675C22.845 49.6325 23.695 50.0348 24.225 50.7993C24.845 51.6946 24.955 52.9922 24.505 54.1088C23.915 55.5574 22.325 56.5834 20.875 56.4224V56.4124ZM25.625 59.0479C25.665 58.2834 26.055 57.4586 26.735 56.7142C27.445 55.9396 28.265 55.155 29.015 55.155H29.055C30.225 55.1952 31.085 55.6076 31.605 56.3621C32.225 57.2574 32.335 58.555 31.885 59.6716C31.295 61.1201 29.705 62.1361 28.255 61.9852C26.805 61.8243 25.555 60.4361 25.625 59.058V59.0479ZM33.005 69.9421C31.555 69.7811 30.305 68.393 30.375 67.0148C30.415 66.2503 30.805 65.4255 31.485 64.6811C32.205 63.8965 33.025 63.0917 33.795 63.1219C34.965 63.1621 35.815 63.5645 36.345 64.329C36.965 65.2243 37.075 66.5219 36.625 67.6385C36.035 69.0871 34.445 70.1131 32.995 69.9421H33.005ZM72.085 56.8751C71.815 56.4325 71.525 56.01 71.245 55.6177C69.945 53.7769 67.555 50.0751 65.245 46.494C62.915 42.8928 60.515 39.1708 59.185 37.2897C58.785 36.7264 58.005 36.5856 57.445 36.988C56.885 37.3903 56.745 38.175 57.145 38.7383C58.435 40.5791 60.835 44.2809 63.145 47.862C65.475 51.4632 67.875 55.1852 69.205 57.0662C69.845 57.9716 70.505 58.9171 70.765 59.9029C70.955 60.6272 70.905 61.5929 70.355 62.116C69.655 62.7799 67.475 63.3633 66.825 63.0515C65.845 62.5988 65.045 61.7337 64.165 60.7278C61.365 57.539 57.575 52.4289 55.535 49.6827C55.125 49.1295 54.335 49.0088 53.785 49.4313C53.235 49.8437 53.115 50.6384 53.535 51.1916C55.575 53.9479 59.365 59.058 62.225 62.3272C62.225 62.5284 62.245 62.7296 62.335 62.9207C62.495 63.2426 62.605 63.5444 62.685 63.8462C62.875 64.5704 62.825 65.5361 62.275 66.0592C61.575 66.7231 59.395 67.3066 58.745 66.9947C57.775 66.5421 56.965 65.677 56.085 64.671C53.275 61.4621 49.495 56.3621 47.455 53.626C47.045 53.0727 46.255 52.952 45.705 53.3745C45.155 53.7869 45.035 54.5816 45.455 55.1349C48.125 58.7461 50.895 62.4178 53.245 65.2142C53.245 65.3953 53.275 65.5764 53.365 65.7474C53.525 66.0793 53.635 66.371 53.715 66.6728C53.905 67.3971 53.855 68.3628 53.315 68.8859C52.615 69.5498 50.435 70.1332 49.785 69.8214C48.815 69.3687 48.005 68.5036 47.125 67.4977C44.315 64.2888 40.535 59.1887 38.495 56.4526C38.085 55.8994 37.295 55.7787 36.745 56.2011C36.195 56.6136 36.075 57.4083 36.495 57.9615C39.255 61.6734 42.095 65.4557 44.485 68.2823C44.465 68.8356 44.295 69.3084 43.985 69.6001C42.675 70.8474 40.085 70.6563 38.345 69.6805C38.575 69.3385 38.775 68.9865 38.935 68.5941C39.705 66.6829 39.505 64.5101 38.395 62.9006C37.465 61.5426 36.005 60.7781 34.185 60.6373C34.955 58.7361 34.755 56.5532 33.645 54.9437C32.655 53.5153 31.095 52.7206 29.125 52.6603C28.425 52.6301 27.805 52.8112 27.245 53.0928C27.325 51.765 26.995 50.4473 26.265 49.381C25.275 47.9526 23.715 47.1579 21.745 47.0975C20.525 47.0573 19.495 47.6608 18.705 48.3046C20.895 39.4022 22.235 30.4595 22.715 21.6376C24.655 20.873 26.365 19.8571 28.005 18.8612C28.905 18.318 29.825 17.7446 30.765 17.2517C32.765 16.1854 36.665 14.5659 40.395 15.6825C42.455 16.3061 45.065 18.5091 47.575 20.6517C48.375 21.3358 49.195 22.0198 49.995 22.6535C48.265 24.3435 46.755 26.0435 45.505 27.5323C44.755 28.4275 43.825 29.011 42.845 29.6347C42.045 30.1376 41.215 30.6607 40.425 31.3749C39.265 32.411 38.485 33.7187 38.225 35.0365C38.175 35.3081 38.135 35.5897 38.125 35.8613C38.045 38.0744 39.455 40.2673 41.645 41.3235C42.805 41.8868 43.995 42.078 45.105 42.078C46.105 42.078 47.025 41.917 47.775 41.7259C50.695 40.9815 54.285 39.1809 57.395 36.9075C58.345 36.2134 58.975 35.4388 59.595 34.6945C59.745 34.5134 59.895 34.3323 60.045 34.1613C61.345 36.3844 63.215 38.2756 65.445 39.5631C67.695 40.8708 70.295 41.5549 72.895 41.5549C73.375 41.5549 73.845 41.5348 74.325 41.4845C75.015 41.414 75.515 40.8004 75.445 40.1063C75.375 39.4123 74.745 38.9093 74.075 38.9797C71.535 39.2312 68.905 38.6578 66.695 37.3803C64.595 36.1631 62.865 34.3022 61.785 32.1092C61.835 31.7873 61.765 31.4453 61.545 31.1637C61.125 30.6104 60.345 30.4998 59.795 30.9222C58.895 31.6163 58.275 32.3607 57.675 33.085C57.135 33.7388 56.615 34.3625 55.925 34.8655C53.065 36.9578 49.785 38.6075 47.165 39.2815C45.505 39.704 43.935 39.6235 42.735 39.0501C41.505 38.4566 40.675 37.2596 40.645 36.1028C40.695 36.1128 40.745 36.1329 40.805 36.1329H40.825C43.485 36.0625 45.665 34.0306 47.105 32.6927C47.645 32.1897 48.385 31.4956 48.565 30.4897C48.685 29.8358 48.455 29.1015 47.975 28.6187C47.955 28.5986 47.935 28.5885 47.925 28.5784C50.135 25.9832 53.045 22.8547 56.585 20.4506C59.335 18.5795 61.615 17.6541 63.785 17.5434C66.145 17.4227 68.365 18.2476 70.725 19.1328C71.295 19.344 71.855 19.5553 72.425 19.7565C75.835 20.9435 78.735 21.1346 81.115 20.3801C82.515 29.5039 84.865 38.688 88.125 47.7011C85.075 48.3348 82.155 49.562 79.565 51.3023C79.065 51.1816 78.515 51.3626 78.215 51.8354C76.765 54.1189 74.605 55.8893 72.105 56.8952L72.085 56.8751ZM47.065 30.2181C46.975 30.6909 46.555 31.1134 46.055 31.5862C44.445 33.095 42.845 34.4329 41.015 34.5939C41.265 34.1211 41.625 33.6483 42.085 33.2359C42.725 32.6625 43.425 32.2199 44.175 31.7471C45.095 31.1737 46.025 30.5601 46.895 29.695C47.015 29.8258 47.095 30.0571 47.065 30.2181ZM42.495 6.48832C41.945 6.06583 41.835 5.28121 42.255 4.72795C42.675 4.17469 43.455 4.06404 44.005 4.48653C45.485 5.61316 46.785 6.97116 47.855 8.51023C48.255 9.0836 48.115 9.85817 47.545 10.2605C47.325 10.4114 47.075 10.4919 46.825 10.4919C46.435 10.4919 46.045 10.3008 45.805 9.95876C44.885 8.63094 43.765 7.47412 42.495 6.49838V6.48832ZM51.665 7.75578C51.515 5.54275 51.575 3.30959 51.825 1.10662C51.905 0.412528 52.525 -0.0703164 53.215 9.83877e-05C53.905 0.0805724 54.395 0.704246 54.315 1.39833C54.075 3.44036 54.025 5.52263 54.165 7.58477C54.215 8.27886 53.685 8.88242 53.005 8.92266C52.975 8.92266 52.945 8.92266 52.925 8.92266C52.275 8.92266 51.725 8.40963 51.675 7.74572L51.665 7.75578ZM57.965 8.95283C57.425 8.51023 57.345 7.7256 57.785 7.1824C58.595 6.18654 59.215 5.0599 59.645 3.84273C59.875 3.18888 60.585 2.84687 61.235 3.06817C61.885 3.29953 62.235 4.01374 62.005 4.66759C61.485 6.16642 60.715 7.54454 59.725 8.76171C59.475 9.06349 59.115 9.22443 58.755 9.22443C58.475 9.22443 58.195 9.1339 57.965 8.94277V8.95283Z" fill="url(#paint0_linear_1785_4507)"/>
                <defs>
                <linearGradient id="paint0_linear_1785_4507" x1="0.650453" y1="73.0001" x2="108.413" y2="4.83795" gradientUnits="userSpaceOnUse">
                <stop stop-color="#FF7A00"/>
                <stop offset="0.645833" stop-color="#FB9B11"/>
                </linearGradient>
                </defs>
            </svg>

            <h2 class="c-section-partners__title a-stagger-element__partner">
                {{title}}
            </h2>
            <div class="c-section-partners__logo-container a-stagger-element__partner">
                <div class="row jc-center">
                    <div class="col-lg-8 col-sm-12" v-for="(element, index) in partners" :key="index">
                        <a :href="element.url" target="_blank" rel="noopener noreferrer" class="c-section-partners__logo">
                            <img :src="api_url + element.image.url" :alt="element.image.alt" class="c-section-partners__logo__image" />
                        </a>
                    </div>
                </div>
            </div>
            <div class="c-section-partners__slider">
                <div v-swiper="swiperOptions">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide" v-for="(element, index) in partners" :key="index">
                            <a :href="element.url" target="_blank" rel="noopener noreferrer" class="c-section-partners__logo">
                                <img :src="api_url + element.image.url" :alt="element.image.alt" class="c-section-partners__logo__image" />
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div v-if="ellipse" class="c-section-partners__ellipse">
                <shape-ellipse 
                    :size="300"
                />
            </div>
        </div>
    </section>
</template>

<script>
    import ShapeEllipse from '../ui/ShapeEllipse';
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/dist/ScrollTrigger";

    if (process.client) {
        gsap.registerPlugin(ScrollTrigger);
    }

    export default {
        name: 'TheSectionPartners',
        props: {
            title: String,
            partners: Array,
            ellipse: Boolean,
        },
        components: {
            ShapeEllipse,
        },
        data() {
            return {
                api_url: this.$config.API_URL,
                swiperOptions: {
                    loop: true,
                    slidesPerView: 2,
                    spaceBetween: 30,
                    speed: 1000,
                    pagination: {
                        el: '.swiper-pagination',
                        type: 'bullets',
                    },
                    navigation: {
                        nextEl: '.swiper__next',
                        prevEl: '.swiper__prev',
                    },
                    breakpoints: {
                        767: {
                            slidesPerView: 3,
                            spaceBetween: 25
                        }
                    }
                }
            }
        },
        mounted() {
            const gsap = this.$gsap;
            this.tl = new gsap.timeline({
                scrollTrigger: {
                    trigger: ".c-section-partners",
                }
            })

            this.tl.set('.a-stagger-element__partner', {autoAlpha: 0, y:30})
            this.tl.staggerTo('.a-stagger-element__partner', 0.6, {autoAlpha: 1, y:0, ease: "Power1.easeOut"}, .15, "=0.4")
                   
        },
    }
</script>

<!-----
*
Style scoped
*
------>
<style lang="scss" scoped>
    .c-section-partners {
        position: relative;
        padding: 60px 0;
        background-color: $white;

        .c-section-partners__handshake {
            display: block;
            margin: 0 auto;
            margin-bottom: 60px;
        }
        .c-section-partners__title {
            font-weight: 600;
            font-family: $font-family-custom;
            font-size: 4.125rem;
            line-height: 4.5rem;
            text-align: center;
            color: $black;
            padding-bottom: 60px;

            @include media-breakpoint-down(md) {
                font-size: 3.125rem;
                line-height: 3.5rem;
            }

            @include media-breakpoint-down(sm) {
                font-size: 2.125rem;
                line-height: 2.5rem;
            }
        }

        .c-section-partners__ellipse {
            position: absolute;
            bottom: 0;
            right: -150px;
            transform: translateY(50%);

            @include media-breakpoint-down(md) {
                display: none;
            }
        }

        .c-section-partners__logo-container {
            @include media-breakpoint-down(md) {
                display: none;
            }
        }

        .c-section-partners__slider {
            display: none;

            @include media-breakpoint-down(md) {
                display: block;
            }
        }

        .c-section-partners__logo {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;

            height: 100%;
            max-height: 100px;
            .c-section-partners__logo__image {
                display: block;
                margin: 0 auto;

                max-height: 100px;
                height: 100%;

                filter: grayscale(1);

                transition: filter .2s ease-out;
            }

            &:hover {
                .c-section-partners__logo__image {
                    filter: grayscale(0);
                }
            }
        }
    }
</style>
